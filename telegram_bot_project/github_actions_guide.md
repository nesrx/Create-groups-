# دليل تشغيل بوت تيليجرام على GitHub Actions

## مقدمة

GitHub Actions هي منصة قوية للتكامل المستمر والنشر المستمر (CI/CD) التي تتيح لك تشغيل سكريبت وتطبيقات بايثون مباشرة على خوادم GitHub. في هذا الدليل، سنتعلم كيفية تشغيل بوت تيليجرام على GitHub Actions بطريقة مجانية ومستمرة.

## لماذا GitHub Actions؟

GitHub Actions يوفر عدة مزايا لتشغيل البوتات:

- **مجاني**: يوفر GitHub 2000 دقيقة مجانية شهرياً للمستودعات العامة
- **سهولة الإعداد**: لا يتطلب إعداد خادم منفصل
- **التشغيل المستمر**: يمكن تشغيل البوت 24/7 (مع بعض القيود)
- **الأمان**: متغيرات البيئة محمية ومشفرة
- **المراقبة**: سجلات مفصلة لجميع العمليات

## الخطوات الأساسية

### الخطوة 1: إنشاء مستودع GitHub

1. اذهب إلى [GitHub.com](https://github.com) وسجل الدخول
2. انقر على "New repository"
3. اختر اسماً للمستودع (مثل: `telegram-groups-bot`)
4. اجعل المستودع عاماً (Public) للاستفادة من الدقائق المجانية
5. انقر على "Create repository"

### الخطوة 2: رفع ملفات البوت

1. حمل ملفات البوت إلى جهازك
2. ارفع الملفات إلى المستودع باستخدام Git أو واجهة GitHub الويب

### الخطوة 3: إعداد متغيرات البيئة (Secrets)

1. اذهب إلى إعدادات المستودع (Settings)
2. انقر على "Secrets and variables" ثم "Actions"
3. انقر على "New repository secret"
4. أضف المتغيرات التالية:
   - `BOT_TOKEN`: توكن البوت من @BotFather

### الخطوة 4: إنشاء ملف GitHub Actions Workflow

سنحتاج إلى إنشاء ملف workflow في مجلد `.github/workflows/`




قم بإنشاء ملف جديد باسم `main.yml` (أو أي اسم آخر) داخل المجلد `.github/workflows/` في مستودعك. سيكون محتوى الملف كالتالي:

```yaml
name: Telegram Bot CI/CD

on:
  push:
    branches:
      - main
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4
    - name: Set up Python 3.11
      uses: actions/setup-python@v5
      with:
        python-version: 3.11

    - name: Install dependencies
      run: pip install -r requirements.txt

    - name: Run Telegram Bot
      env:
        BOT_TOKEN: ${{ secrets.BOT_TOKEN }}
      run: python main.py
```

### شرح ملف Workflow:

- `name`: اسم سير العمل (Workflow).
- `on`: يحدد متى سيتم تشغيل سير العمل. هنا، سيتم تشغيله عند كل عملية `push` إلى فرع `main`، أو يدوياً عبر `workflow_dispatch`.
- `jobs`: يحتوي على المهام التي سيتم تنفيذها.
- `build`: اسم المهمة.
- `runs-on`: يحدد نظام التشغيل الذي ستعمل عليه المهمة (هنا `ubuntu-latest`).
- `steps`: قائمة بالخطوات التي سيتم تنفيذها:
  - `uses: actions/checkout@v4`: لسحب الكود من المستودع.
  - `uses: actions/setup-python@v5`: لإعداد بيئة Python 3.11.
  - `Install dependencies`: لتثبيت المكتبات المطلوبة من `requirements.txt`.
  - `Run Telegram Bot`: لتشغيل البوت. يتم تمرير `BOT_TOKEN` كمتغير بيئة من `secrets` التي قمت بإعدادها مسبقاً.

### الخطوة 5: تشغيل Workflow

بعد رفع ملف `main.yml` إلى مستودعك، سيتم تشغيل سير العمل تلقائياً عند كل `push` إلى فرع `main`. يمكنك أيضاً تشغيله يدوياً من تبويب "Actions" في مستودعك على GitHub.

## ملاحظات هامة:

- **استمرارية التشغيل**: GitHub Actions ليس مصمماً لتشغيل الخدمات المستمرة 24/7 بشكل مباشر. إذا توقف البوت لأي سبب (مثل انتهاء الدقائق المجانية، أو خطأ في الكود)، فلن يتم إعادة تشغيله تلقائياً إلا إذا قمت بتشغيل Workflow مرة أخرى. لحل هذه المشكلة، يمكنك استخدام خدمات استضافة مخصصة للبوتات أو خوادم افتراضية (VPS).
- **القيود**: هناك قيود على عدد الدقائق المجانية التي يمكنك استخدامها شهرياً. إذا تجاوزت هذه الدقائق، قد تحتاج إلى الدفع أو البحث عن حلول استضافة بديلة.
- **الأمان**: لا تقم أبداً بكتابة توكن البوت مباشرة في ملف Workflow. استخدم `secrets` كما هو موضح أعلاه.

## الخلاصة

GitHub Actions يوفر طريقة رائعة لتشغيل بوتات تيليجرام بشكل مجاني وسهل، خاصة للمشاريع الصغيرة أو للاختبار. تذكر دائماً مراقبة سجلات Workflow للتأكد من أن البوت يعمل بشكل صحيح.

